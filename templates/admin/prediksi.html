{% extends "admin/partials/base.html" %}
{% block title %}Prediksi{% endblock %}
{% block content %}
<div class="card-tabs ">
    <!-- Cards navigation -->
    <ul class="nav nav-tabs">
        <li class="nav-item"><a href="#tab-top-1" class="nav-link active" data-bs-toggle="tab">Input Manual</a></li>
        <li class="nav-item"><a href="#tab-top-2" class="nav-link" data-bs-toggle="tab">Data Mahasiswa</a></li>
    </ul>
    <div class="tab-content">
        <!-- Content of card #1 -->
        <div id="tab-top-1" class="card tab-pane show active">
            <div class="card-body">
                <div class="card-title">Prediksi Manual</div>
                <p class="text-muted">
                    Prediksi kelulusan mahasiswa dengan menginputkan data secara manual.
                </p>
                <form method="POST" action="/admin/prediksi">
                    <div class="mb-3">
                        <label class="form-label">Nama Mahasiswa</label>
                        <input type="text" class="form-control" name="nama" required
                            placeholder="Masukkan Nama Mahasiswa">
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="mb-3">
                                <label class="form-label">NIM</label>
                                <input type="text" class="form-control" name="nim" required placeholder="Masukkan NIM">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="mb-3">
                                <label class="form-label">Umur</label>
                                <input type="text" class="form-control" name="umur" required
                                    placeholder="Masukkan Umur">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="mb-3">
                                <label class="form-label">Gender</label>
                                <select class="form-select" name="jenis_kelamin" required>
                                    <option value="0" selected="">Laki-laki</option>
                                    <option value="1">Perempuan</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="mb-3">
                                <label class="form-label">Domisili</label>
                                <select class="form-select" name="domisili" required>
                                    <option value="1" selected="">Tegal</option>
                                    <option value="2">Brebes</option>
                                    <option value="3">Pemalang</option>
                                    <option value="-999">Lainnya</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="mb-3">
                                <label class="form-label">Status Sekolah</label>
                                <select class="form-select" name="status_sekolah" required>
                                    <option value="0" selected="">Negeri</option>
                                    <option value="1">Swasta</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="mb-3">
                                <label class="form-label">Asal Sekolah</label>
                                <select class="form-select" name="asal_sekolah" required>
                                    <option value="0" selected="">SMA</option>
                                    <option value="1">SMK</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">Kegiatan Organisasi</label>
                                <select class="form-select" name="kegiatan_organisasi" required>
                                    <option value="0" selected="">Tidak</option>
                                    <option value="1">Ya</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="mb-3">
                                <label class="form-label">Penghasilan Orang Tua</label>
                                <select class="form-select" name="penghasilan_ortu" required>
                                    <option value="0" selected="">Rendah</option>
                                    <option value="1">Sedang</option>
                                    <option value="2">Tinggi</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2">
                            <div class="mb-3">
                                <label class="form-label">IPs 1</label>
                                <input type="text" class="form-control" name="ips1" required placeholder="X.XX">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="mb-3">
                                <label class="form-label">IPs 2</label>
                                <input type="text" class="form-control" name="ips2" required placeholder="X.XX">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="mb-3">
                                <label class="form-label">IPs 3</label>
                                <input type="text" class="form-control" name="ips3" required placeholder="X.XX">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="mb-3">
                                <label class="form-label">IPs 4</label>
                                <input type="text" class="form-control" name="ips4" required placeholder="X.XX">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="mb-3">
                                <label class="form-label">IPs 5</label>
                                <input type="text" class="form-control" name="ips5" required placeholder="X.XX">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="mb-3">
                                <label class="form-label">IPs 6</label>
                                <input type="text" class="form-control" name="ips6" required placeholder="X.XX">
                            </div>
                        </div>
                    </div>
                    <br>
                    <center>
                        {% if msg == "1" %}
                        <p class="alert bg-success"> Lulus Tepat Waktu</p>
                        {% endif %}

                        {% if msg == "0" %}
                        <p class="alert bg-danger"> Tidak Lulus Tepat Waktu</p>
                        {% endif %}
                        <button type="submit" class="btn btn-success"><svg xmlns="http://www.w3.org/2000/svg"
                                class="icon icon-tabler icon-tabler-device-analytics" width="24" height="24"
                                viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                stroke-linecap="round" stroke-linejoin="round">
                                <desc>Download more icon variants from
                                    https://tabler-icons.io/i/device-analytics</desc>
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <rect x="3" y="4" width="18" height="12" rx="1"></rect>
                                <line x1="7" y1="20" x2="17" y2="20"></line>
                                <line x1="9" y1="16" x2="9" y2="20"></line>
                                <line x1="15" y1="16" x2="15" y2="20"></line>
                                <path d="M8 12l3 -3l2 2l3 -3"></path>
                            </svg> Prediksi</button>
                    </center>
                </form>
            </div>
        </div>
        <!-- Content of card #2 -->
        <div id="tab-top-2" class="card tab-pane">
            <div class="card-body">
                <div class="card-title">Prediksi dengan Data Mahasiswa</div>
                <p class="text-muted">
                    Prediksi kelulusan mahasiswa dengan menginputkan data secara serentak.
                </p>
                <br>

                <div class="table-responsive">
                    <table class="table table-vcenter table-bordered">
                        <thead class="text-center">
                            <tr>
                                <th rowspan="2">No</th>
                                <th rowspan="2">NIM</th>
                                <th rowspan="2">Nama Lengkap</th>
                                <th rowspan="2">Umur</th>
                                <th rowspan="2">Gender</th>
                                <th rowspan="2">Domisili</th>
                                <th rowspan="2">Status Sekolah</th>
                                <th rowspan="2">Asal Sekolah</th>
                                <th rowspan="2">Kegiatan Organisasi</th>
                                <th rowspan="2">P. Orang Tua</th>
                                <th colspan="6">IPS</th>
                                <th rowspan="2">Aksi</th>
                            </tr>
                            <tr>
                                <th>1</th>
                                <th>2</th>
                                <th>3</th>
                                <th>4</th>
                                <th>5</th>
                                <th>6</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for dt in data %}
                            <tr>
                                <td class="text-center">{{dt[0]}}</td>
                                <td class="text-center">{{dt[1]}}</td>
                                <td>{{dt[2]}}</td>
                                <td class="text-center">{{dt[3]}}</td>
                                <td class="text-center">{{ 'Laki-laki' if dt[4]=='0' else 'Perempuan'}}</td>
                                {% if dt[5]=='1' %}<td class="text-center">Tegal</td>{% endif %}
                                {% if dt[5]=='2' %}<td class="text-center">Brebes</td>{% endif %}
                                {% if dt[5]=='3' %}<td class="text-center">Pemalang</td>{% endif %}
                                {% if dt[5]=='-999' %}<td class="text-center">Lainnya</td>{% endif %}
                                <td class="text-center">{{ 'Negeri' if dt[6]=='0' else 'Swasta'}}</td>
                                <td class="text-center">{{ 'SMA' if dt[7]=='0' else 'SMK'}}</td>
                                <td class="text-center">{{ 'Tidak' if dt[8]=='0' else 'Ya'}}</td>
                                {% if dt[9]=='0' %}<td class="text-center">Rendah</td>{% endif %}
                                {% if dt[9]=='1' %}<td class="text-center">Sedang</td>{% endif %}
                                {% if dt[9]=='2' %}<td class="text-center">Tinggi</td>{% endif %}
                                
                                <td class="text-center">{{dt[10]}}</td>
                                <td class="text-center">{{dt[11]}}</td>
                                <td class="text-center">{{dt[12]}}</td>
                                <td class="text-center">{{dt[13]}}</td>
                                <td class="text-center">{{dt[14]}}</td>
                                <td class="text-center">{{dt[15]}}</td>
                                <td class="text-center">
                                    <div class="btn-group">
                                        <a href="/admin/single_predict/{{dt[1]}}" class="btn btn-success btn-icon">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                class="icon icon-tabler icon-tabler-device-analytics" width="24"
                                                height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                                fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                <desc>Download more icon variants from
                                                    https://tabler-icons.io/i/device-analytics</desc>
                                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                                <rect x="3" y="4" width="18" height="12" rx="1"></rect>
                                                <line x1="7" y1="20" x2="17" y2="20"></line>
                                                <line x1="9" y1="16" x2="9" y2="20"></line>
                                                <line x1="15" y1="16" x2="15" y2="20"></line>
                                                <path d="M8 12l3 -3l2 2l3 -3"></path>
                                            </svg>
                                        </a>

                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <br>
                <center><a href="/admin/multi_predict" class="btn btn-success"><svg xmlns="http://www.w3.org/2000/svg"
                            class="icon icon-tabler icon-tabler-device-analytics" width="24" height="24"
                            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                            stroke-linecap="round" stroke-linejoin="round">
                            <desc>Download more icon variants from
                                https://tabler-icons.io/i/device-analytics</desc>
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <rect x="3" y="4" width="18" height="12" rx="1"></rect>
                            <line x1="7" y1="20" x2="17" y2="20"></line>
                            <line x1="9" y1="16" x2="9" y2="20"></line>
                            <line x1="15" y1="16" x2="15" y2="20"></line>
                            <path d="M8 12l3 -3l2 2l3 -3"></path>
                        </svg> Prediksi Semua</a></center>
            </div>
        </div>
    </div>
</div>
{% endblock %}